<div class="projects-container">
  <h2>My Projects</h2>
  
  <div *ngIf="!isAddingProject">
    <button (click)="isAddingProject = true">Add New Project</button>
    
    <div *ngFor="let project of projects; let i = index" class="project-card">
      <h3>{{ project.title }}</h3>
      <p>{{ project.description }}</p>
      <div *ngIf="project.fileUrl" class="file-preview">
        <img *ngIf="project.fileUrl.startsWith('data:image')" [src]="project.fileUrl" alt="Project preview">
        <div *ngIf="!project.fileUrl.startsWith('data:image')" class="file-icon">
          <span class="material-icons">insert_drive_file</span>
          <p>{{ project.fileName }}</p>
        </div>
      </div>
      <button (click)="removeProject(i)">Remove</button>
    </div>
  </div>

  <div *ngIf="isAddingProject" class="add-project-form">
    <h3>Add New Project</h3>
    
    <div class="form-group">
      <label>Project Title</label>
      <input [(ngModel)]="newProject.title" placeholder="Enter project title">
    </div>
    
    <div class="form-group">
      <label>Description</label>
      <textarea [(ngModel)]="newProject.description" placeholder="Enter project description"></textarea>
    </div>
    
    <div class="form-group">
      <label>Upload File</label>
      <input type="file" (change)="onFileSelected($event)">
      <div *ngIf="newProject.fileUrl" class="preview">
        <p>Selected file: {{ newProject.fileName }}</p>
        <img *ngIf="newProject.fileUrl.startsWith('data:image')" [src]="newProject.fileUrl" width="100">
      </div>
    </div>
    
    <div class="form-actions">
      <button (click)="addProject()">Save Project</button>
      <button (click)="isAddingProject = false">Cancel</button>
    </div>
  </div>
</div>